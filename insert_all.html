<!doctype html>
<html lang="es">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>INSERT ALL | ADMINISTRACIÓN DE BASES DE DATOS </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta name="author" content="Jorge Iván Bedoya Restrepo" />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-sa/4.0/" />
<meta name="generator" content="eXeLearning 2.5 - exelearning.net" />
<!--[if lt IE 9]><script type="text/javascript" src="exe_html5.js"></script><![endif]-->
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="exe-web-site" id="exe-node-20"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Saltar la navegación</a></p>
<header id="header" ><div id="headerContent">ADMINISTRACIÓN DE BASES DE DATOS</div></header>
<nav id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">ADMINISTRACIÓN DE BASES DE DATOS</a></li>
   <li><a href="rol_del_dba.html" class="no-ch">ROL DEL DBA</a></li>
   <li><a href="generalidades_de_oracle.html" class="daddy">GENERALIDADES DE ORACLE</a>
   <ul class="other-section">
      <li><a href="un_poco_de_historia.html" class="no-ch">UN POCO DE HISTORIA</a></li>
      <li><a href="pl__sql.html" class="no-ch">PL / SQL</a></li>
      <li><a href="ambientes_de_trabajo.html" class="daddy">AMBIENTES DE TRABAJO</a>
      <ul class="other-section">
         <li><a href="sql_plus.html" class="no-ch">SQL PLUS</a></li>
         <li><a href="sql_developer.html" class="no-ch">SQL DEVELOPER</a></li>
         <li><a href="otros_ambientes.html" class="no-ch">OTROS AMBIENTES</a></li>
      </ul>
      </li>
   </ul>
   </li>
   <li><a href="arquitectura_de_oracle.html" class="daddy">ARQUITECTURA DE ORACLE</a>
   <ul class="other-section">
      <li><a href="manejo_de_memoria.html" class="no-ch">MANEJO DE MEMORIA</a></li>
      <li><a href="manejo_de_procesos.html" class="no-ch">MANEJO DE PROCESOS</a></li>
      <li><a href="arquitectura_multitenant.html" class="no-ch">ARQUITECTURA MULTITENANT</a></li>
   </ul>
   </li>
   <li><a href="instrucciones_varias_de_oracle.html" class="no-ch">INSTRUCCIONES VARIAS DE ORACLE</a></li>
   <li><a href="vistas.html" class="daddy">VISTAS</a>
   <ul class="other-section">
      <li><a href="vistas_comunes.html" class="no-ch">VISTAS COMUNES</a></li>
      <li><a href="vistas_materializables.html" class="no-ch">VISTAS MATERIALIZABLES</a></li>
   </ul>
   </li>
   <li><a href="secuencias.html" class="no-ch">SECUENCIAS</a></li>
   <li class="current-page-parent"><a href="migracin_de_datos.html" class="current-page-parent daddy">MIGRACIÓN DE DATOS</a>
   <ul>
      <li id="active"><a href="insert_all.html" class="active no-ch">INSERT ALL</a></li>
      <li><a href="insert_first__pivote.html" class="no-ch">INSERT FIRST - PIVOTE</a></li>
      <li><a href="merge.html" class="no-ch">MERGE</a></li>
   </ul>
   </li>
   <li><a href="manejo_de_ndices.html" class="no-ch">MANEJO DE ÍNDICES</a></li>
   <li><a href="manejo_de_usuarios.html" class="daddy">MANEJO DE USUARIOS</a>
   <ul class="other-section">
      <li><a href="usuarios_y_privilegios.html" class="no-ch">USUARIOS Y PRIVILEGIOS</a></li>
      <li><a href="roles.html" class="no-ch">ROLES</a></li>
      <li><a href="perfiles.html" class="no-ch">PERFILES</a></li>
   </ul>
   </li>
   <li><a href="diccionario_de_datos.html" class="daddy">DICCIONARIO DE DATOS</a>
   <ul class="other-section">
      <li><a href="ejercicio_completo.html" class="no-ch">EJERCICIO COMPLETO</a></li>
      <li><a href="consultas_tiles_para_el_dba.html" class="no-ch">CONSULTAS ÚTILES PARA EL DBA</a></li>
   </ul>
   </li>
   <li><a href="optimizacin_de_consultas.html" class="no-ch">OPTIMIZACIÓN DE CONSULTAS</a></li>
   <li><a href="buenas_prcticas_en_sql.html" class="no-ch">BUENAS PRÁCTICAS EN SQL</a></li>
   <li><a href="backups.html" class="daddy">BACKUPS</a>
   <ul class="other-section">
      <li><a href="undo_redologs_y_archivelogs.html" class="no-ch">UNDO, REDOLOGS y ARCHIVELOGS</a></li>
      <li><a href="rman.html" class="no-ch">RMAN</a></li>
      <li><a href="backup_completo.html" class="no-ch">BACKUP COMPLETO</a></li>
      <li><a href="backup_tablespaces.html" class="no-ch">BACKUP TABLESPACES</a></li>
      <li><a href="backup_controlfile.html" class="no-ch">BACKUP CONTROLFILE</a></li>
      <li><a href="backup_archivelog.html" class="no-ch">BACKUP ARCHIVELOG</a></li>
      <li><a href="backup_incremental.html" class="no-ch">BACKUP INCREMENTAL</a></li>
   </ul>
   </li>
   <li><a href="restores.html" class="daddy">RESTORES</a>
   <ul class="other-section">
      <li><a href="introduccion.html" class="no-ch">INTRODUCCION</a></li>
      <li><a href="restore_base_de_datos_completa.html" class="no-ch">RESTORE BASE DE DATOS COMPLETA</a></li>
      <li><a href="restore_de_tablespace.html" class="no-ch">RESTORE DE TABLESPACE</a></li>
      <li><a href="restore_hasta_un_tiempo_t.html" class="no-ch">RESTORE HASTA UN TIEMPO t</a></li>
   </ul>
   </li>
   <li><a href="encriptacin_de_datos.html" class="no-ch">ENCRIPTACIÓN DE DATOS</a></li>
   <li><a href="flashback.html" class="no-ch">FLASHBACK</a></li>
   <li><a href="auditoria.html" class="no-ch">AUDITORIA</a></li>
   <li><a href="gestin_de_lobs.html" class="no-ch">GESTIÓN DE LOBs</a></li>
   <li><a href="tablas_particionadas.html" class="no-ch">TABLAS PARTICIONADAS</a></li>
   <li><a href="gestin_de_almacenamiento.html" class="no-ch">GESTIÓN DE ALMACENAMIENTO</a></li>
</ul>
</nav>
<div id='topPagination'>
<nav class="pagination noprt">
<a href="migracin_de_datos.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="insert_first__pivote.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</nav>
</div>
<div id="main-wrapper">
<section id="main">
<header id="nodeDecoration"><h1 id="nodeTitle">INSERT ALL</h1></header>
<article class="iDevice_wrapper textIdevice" id="id6">
<div class="iDevice emphasis0" >
<div id="ta6_108_2" class="block iDevice_content">
<div class="exe-text"><p><strong><span style="font-family: verdana, geneva, sans-serif;">INSERT ALL INCONDICIONAL</span></strong></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">En algún momento necesitamos pasar datos de una tabla a otra(s) tabla(s). Esta migración la necesitamos hacer sin condiciones en los datos, es decir, todos los datos de la tabla origen se migran hacia todas las tablas destino. Esto es lo que se conoce como INSERT ALL INCONDICIONAL.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">Desarrollemos un ejemplo. En un usuario de trabajo, vamos a crear la siguiente tabla:</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;"><img src="img0.14.png" width="379" height="310" alt="min" /></span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">Y a la tabla recién creada, le vamos a grabar un conjunto de tuplas.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;"><img src="img1.14.png" width="589" height="247" alt="NBS" /></span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">Luego vamos a crear otras dos nuevas tablas:</span></p>
<p style="text-align: justify;"><img src="img2.14.png" width="476" height="394" alt="mnc" /></p>
<p style="text-align: justify;">Vamos a hacer una migración de datos incondicional, usando la instrucción INSERT ALL sin condiciones. En este momento, la tabla origen (EMPLEADOS) tiene 6 tuplas, y las dos tablas destino (COPIA_EMPLEADOS y EMPLEADO_PARA_GERENCIA no tienen datos grabados).</p>
<p style="text-align: justify;"><img src="img3.14.png" width="730" height="255" alt="MNC" /></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">Se puede observar que se hizo grabación, en las tablas destino, de 12 tuplas en total, 6 quedaron en COPIA_EMPLEADOS y 6 en EMPLEADOS_PARA_GERENCIA. Para hacer la migración de datos, no hubo condiciones. El origen de la migración es el resultado del SELECT que está al final de la instrucción, y los destinos son los que están en la cláusulas INTO. También es de anotar que en la tabla EMPLEADOS_PARA_GERENCIA, se grabaron solamente la cédula, nombre y edad de los empleados, mientras que en COPIA_EMPLEADOS, se copiaron todos los campos de la tabla.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">Si miramos el contenido de las dos tablas destino, las cuales estaban vacías, obtenemos lo siguiente:</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;"><img src="img4.14.png" width="530" height="251" alt="NM" /></span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;"><img src="img5.10.png" width="471" height="240" alt="NBX" /></span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">INSERT ALL CONDICIONAL</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">Este tipo de migración se diferencia de la anterior en que los datos del origen son migrados a destinos, dependiendo de unas condiciones dadas.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">Veamos un ejemplo. Vamos a crear unas nuevas tablas.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;"><img src="img6.11.png" width="453" height="410" alt="ncb" /></span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">Vamos a hacer una migración donde, dependiendo de si el empleado es hombre o mujer, lo grabamos en un destino específico.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;"><img src="img7.10.png" width="717" height="320" alt="mol" /></span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">A diferencia de la migración anterior, aparecen 6 tuplas grabadas. Esto debido a que 3 se grabaron en EMPLEADOS_HOMBRES y 3 en EMPLEADOS_MUJERES. Con la cláusula WHEN podemos condicionar el destino donde va a ser grabado el datos.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">Si miramos el contenido de las dos tablas, tenemos lo siguiente:</span></p>
<table border="1" style="width: 100%;">
<tbody>
<tr>
<td style="width: 50%;"><img src="img9.9.png" /></td>
<td style="width: 50%;"><img src="img9.8.png" width="411" height="190" alt="BNC" /></td>
</tr>
</tbody>
</table>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">Este INSERT ALL también puede manejar la cláusula ELSE. La sintaxis es la siguiente:</span><br /><span style="font-family: verdana, geneva, sans-serif;">                                      INSERT ALL</span><br /><span style="font-family: verdana, geneva, sans-serif;">                                             WHEN ……… THEN</span><br /><span style="font-family: verdana, geneva, sans-serif;">                                                     INTO …….. VALUES …….</span><br /><span style="font-family: verdana, geneva, sans-serif;">                                             WHEN ……… THEN</span><br /><span style="font-family: verdana, geneva, sans-serif;">                                                     INTO ………. VALUES ………</span><br /><span style="font-family: verdana, geneva, sans-serif;">                                              ELSE</span><br /><span style="font-family: verdana, geneva, sans-serif;">                                                     INTO ……….. VALUES ………</span><br /><span style="font-family: verdana, geneva, sans-serif;">                                              SELECT ………………..</span><br /><span style="font-family: verdana, geneva, sans-serif;">                                              FROM …………..</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;"> </span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;"></span></p>
<p style="text-align: justify;"></p>
<p><span style="font-family: verdana, geneva, sans-serif;">Video:</span></p>
<p><a href="https://youtu.be/kxIq3weg484">Migración de Datos - INSERT ALL</a></p></div>
</div>
</div>
</article>
<div id="packageLicense" class="cc cc-by-sa">
<p><span>Obra publicada con</span> <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Licencia Creative Commons Reconocimiento Compartir igual 4.0</a></p>
</div>
</section>
</div>
<div id='bottomPagination'>
<nav class="pagination noprt">
<a href="migracin_de_datos.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="insert_first__pivote.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</nav>
</div>
</div>
<script type="text/javascript" src="_intef_js.js"></script></body></html>