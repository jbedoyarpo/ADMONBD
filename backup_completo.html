<!doctype html>
<html lang="es">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>BACKUP COMPLETO | ADMINISTRACIÓN DE BASES DE DATOS </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta name="author" content="Jorge Iván Bedoya Restrepo" />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-sa/4.0/" />
<meta name="generator" content="eXeLearning 2.5 - exelearning.net" />
<!--[if lt IE 9]><script type="text/javascript" src="exe_html5.js"></script><![endif]-->
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="exe-web-site" id="exe-node-44"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Saltar la navegación</a></p>
<header id="header" ><div id="headerContent">ADMINISTRACIÓN DE BASES DE DATOS</div></header>
<nav id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">ADMINISTRACIÓN DE BASES DE DATOS</a></li>
   <li><a href="rol_del_dba.html" class="no-ch">ROL DEL DBA</a></li>
   <li><a href="generalidades_de_oracle.html" class="daddy">GENERALIDADES DE ORACLE</a>
   <ul class="other-section">
      <li><a href="un_poco_de_historia.html" class="no-ch">UN POCO DE HISTORIA</a></li>
      <li><a href="pl__sql.html" class="no-ch">PL / SQL</a></li>
      <li><a href="ambientes_de_trabajo.html" class="daddy">AMBIENTES DE TRABAJO</a>
      <ul class="other-section">
         <li><a href="sql_plus.html" class="no-ch">SQL PLUS</a></li>
         <li><a href="sql_developer.html" class="no-ch">SQL DEVELOPER</a></li>
         <li><a href="otros_ambientes.html" class="no-ch">OTROS AMBIENTES</a></li>
      </ul>
      </li>
   </ul>
   </li>
   <li><a href="arquitectura_de_oracle.html" class="daddy">ARQUITECTURA DE ORACLE</a>
   <ul class="other-section">
      <li><a href="manejo_de_memoria.html" class="no-ch">MANEJO DE MEMORIA</a></li>
      <li><a href="manejo_de_procesos.html" class="no-ch">MANEJO DE PROCESOS</a></li>
      <li><a href="arquitectura_multitenant.html" class="no-ch">ARQUITECTURA MULTITENANT</a></li>
   </ul>
   </li>
   <li><a href="instrucciones_varias_de_oracle.html" class="no-ch">INSTRUCCIONES VARIAS DE ORACLE</a></li>
   <li><a href="vistas.html" class="daddy">VISTAS</a>
   <ul class="other-section">
      <li><a href="vistas_comunes.html" class="no-ch">VISTAS COMUNES</a></li>
      <li><a href="vistas_materializables.html" class="no-ch">VISTAS MATERIALIZABLES</a></li>
   </ul>
   </li>
   <li><a href="secuencias.html" class="no-ch">SECUENCIAS</a></li>
   <li><a href="migracin_de_datos.html" class="daddy">MIGRACIÓN DE DATOS</a>
   <ul class="other-section">
      <li><a href="insert_all.html" class="no-ch">INSERT ALL</a></li>
      <li><a href="insert_first__pivote.html" class="no-ch">INSERT FIRST - PIVOTE</a></li>
      <li><a href="merge.html" class="no-ch">MERGE</a></li>
   </ul>
   </li>
   <li><a href="manejo_de_ndices.html" class="no-ch">MANEJO DE ÍNDICES</a></li>
   <li><a href="manejo_de_usuarios.html" class="daddy">MANEJO DE USUARIOS</a>
   <ul class="other-section">
      <li><a href="usuarios_y_privilegios.html" class="no-ch">USUARIOS Y PRIVILEGIOS</a></li>
      <li><a href="roles.html" class="no-ch">ROLES</a></li>
      <li><a href="perfiles.html" class="no-ch">PERFILES</a></li>
   </ul>
   </li>
   <li><a href="diccionario_de_datos.html" class="daddy">DICCIONARIO DE DATOS</a>
   <ul class="other-section">
      <li><a href="ejercicio_completo.html" class="no-ch">EJERCICIO COMPLETO</a></li>
      <li><a href="consultas_tiles_para_el_dba.html" class="no-ch">CONSULTAS ÚTILES PARA EL DBA</a></li>
   </ul>
   </li>
   <li><a href="optimizacin_de_consultas.html" class="no-ch">OPTIMIZACIÓN DE CONSULTAS</a></li>
   <li><a href="buenas_prcticas_en_sql.html" class="no-ch">BUENAS PRÁCTICAS EN SQL</a></li>
   <li class="current-page-parent"><a href="backups.html" class="current-page-parent daddy">BACKUPS</a>
   <ul>
      <li><a href="undo_redologs_y_archivelogs.html" class="no-ch">UNDO, REDOLOGS y ARCHIVELOGS</a></li>
      <li><a href="rman.html" class="no-ch">RMAN</a></li>
      <li id="active"><a href="backup_completo.html" class="active no-ch">BACKUP COMPLETO</a></li>
      <li><a href="backup_tablespaces.html" class="no-ch">BACKUP TABLESPACES</a></li>
      <li><a href="backup_controlfile.html" class="no-ch">BACKUP CONTROLFILE</a></li>
      <li><a href="backup_archivelog.html" class="no-ch">BACKUP ARCHIVELOG</a></li>
      <li><a href="backup_incremental.html" class="no-ch">BACKUP INCREMENTAL</a></li>
   </ul>
   </li>
   <li><a href="restores.html" class="daddy">RESTORES</a>
   <ul class="other-section">
      <li><a href="introduccion.html" class="no-ch">INTRODUCCION</a></li>
      <li><a href="restore_base_de_datos_completa.html" class="no-ch">RESTORE BASE DE DATOS COMPLETA</a></li>
      <li><a href="restore_de_tablespace.html" class="no-ch">RESTORE DE TABLESPACE</a></li>
      <li><a href="restore_hasta_un_tiempo_t.html" class="no-ch">RESTORE HASTA UN TIEMPO t</a></li>
   </ul>
   </li>
   <li><a href="encriptacin_de_datos.html" class="no-ch">ENCRIPTACIÓN DE DATOS</a></li>
   <li><a href="flashback.html" class="no-ch">FLASHBACK</a></li>
   <li><a href="auditoria.html" class="no-ch">AUDITORIA</a></li>
   <li><a href="gestin_de_lobs.html" class="no-ch">GESTIÓN DE LOBs</a></li>
   <li><a href="tablas_particionadas.html" class="no-ch">TABLAS PARTICIONADAS</a></li>
   <li><a href="gestin_de_almacenamiento.html" class="no-ch">GESTIÓN DE ALMACENAMIENTO</a></li>
</ul>
</nav>
<div id='topPagination'>
<nav class="pagination noprt">
<a href="rman.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="backup_tablespaces.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</nav>
</div>
<div id="main-wrapper">
<section id="main">
<header id="nodeDecoration"><h1 id="nodeTitle">BACKUP COMPLETO</h1></header>
<article class="iDevice_wrapper textIdevice" id="id35">
<div class="iDevice emphasis0" >
<div id="ta35_108_2" class="block iDevice_content">
<div class="exe-text"><p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">A continuación vamos a exponer el procedimiento de backups con la herramienta RMAN.</span></p>
<p style="text-align: justify;"><strong><span style="font-family: verdana, geneva, sans-serif;">BACKUP COMPLETO</span></strong></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">Para hacer un backup completo, es decir, de todos los archivos de la base de datos, seguimos el siguiente procedimiento:</span></p>
<p style="text-align: justify;"><span style="font-size: 12pt; font-family: verdana, geneva, sans-serif;">Estando en RMAN, digitamos el comando BACKUP DATABASE;</span></p>
<p style="text-align: justify;"><span style="font-size: 12pt; font-family: verdana, geneva, sans-serif;">De esta manera se hace un backup completo de la base de datos.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;"><img src="img0.4.png" width="955" height="365" alt="completo" /></span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">En la información que aparece al hacer el backup , hay información muy útil y valiosa. Analicemos:</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">Cuándo fue hecho el backup.....</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;"><img src="img11.4.png" /></span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">El backup se va a hacer en disco.....</span></p>
<p style="text-align: justify;"><img src="img13.3.png" /></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; font-size: 12pt;">El backup se va a hacer en el formato backupset (es el default). Backupset, en español, es juego de copias de seguridad.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; font-size: 12pt;"><img src="img14.3.png" /></span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; font-size: 12pt;">Especifica cuáles son los archivos a los cuales les va a hacer backup.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; font-size: 12pt;"><img src="img15.3.png" /></span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; font-size: 12pt;">Dice que los cuatro archivos anteriores se grabaron en un solo piece (parte) backupset. Recordar que un backupset se compone de pieces.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; font-size: 12pt;"><img src="img16.3.png" /></span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; font-size: 12pt;">Especifica que el backup se hizo en la FRA, que en este caso es en la carpeta FRA-ORACLE del dispositivo C: de Windows.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; font-size: 12pt;"><img src="img17.3.png" /></span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; font-size: 12pt;">El backup se hizo en 3 segundos.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; font-size: 12pt;"><img src="img18.3.png" /></span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; font-size: 12pt;">Y siempre que se hace un backup completo, automáticamente se hace un backup del Control File y del SPFILE. Este backup se hace en otra carpeta diferente al backup de los archivos de datos, pero dentro de la FRA.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; font-size: 12pt;"><img src="img19.3.png" /></span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; font-size: 12pt;">Si revisamos la FRA, vemos que ya hay un backup.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; font-size: 12pt;">Dentro de la FRA de la base de datos CURSO1, vemos dos carpetas:</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; font-size: 12pt;"><img src="img20.3.png" /></span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; font-size: 12pt;">BACKUPSET, donde se hizo el backup de los archivos de la base de datos.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; font-size: 12pt;">Podemos observar que es un solo archivo, con un nombre "raro", y que coincide con el nombre que salió al hacer RMAN. (Ver imágen anterior).</span></p>
<p style="text-align: justify;"></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; font-size: 12pt;"><img src="img21.3.png" /></span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; font-size: 12pt;">Y AUTOBACKUP que es donde RMAN hace backup del Control File y del SPFILE.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; font-size: 12pt;">El nombre del archivo, el cual también es un poco "raro", debe coincidir con el que salió al ejecutar el backup.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; font-size: 12pt;"><img src="img24.3.png" /></span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;"><strong>Información detallada de los backups</strong></span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">En RMAN hay una serie de comandos que nos permiten mirar, en detalle, la información de los backups que se han hecho hasta el momento.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">El primer comando es LIST BACKUP SUMMARY, el cual muestra un resumen de los backups hechos. Podemos observar los dos backups que se han hecho hasta el momento, el de los archivos y el del control y SPFILE, son en formato backupset (B), son completos (F), fecha de realización de cada backup, el número de parte(piece) de dicho backup y el TAG asignado a cada backup, el cual se corresponde con el mostrado cuando se hizo el backup.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;"><img src="img12.3.png" width="1065" height="168" alt="mmm" /></span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">El siguiente comando es el LIST BACKUP, el cual da una información más detallada de cada backup hecho. Muestra que nuestro primer backupset tiene código 1, es completo, su tamaño es 1.10 gigas, fue hecho en disco, es un backup que está disponible, muestra su tag, y luego muestra los archivos a los cuales se les hizo backup y que están incluidos en ese backupset. La misma información entrega con el backupset 2, el cual es el del Control File y SPFILE.</span></p>
<p><img src="img13.4.png" width="1066" height="463" alt="TODO" /></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">Y el tercer comando es LIST BACKUP BY FILE, el cual muestra el detalle de los backups hechos, discriminados por tipo de archivos. El primer grupo de archivos son los archivos de datos, el segundo es el de los Control Files y el tercero es el de los SPFILES. Este comando especifica cada archivo a que backupset pertenece, cuál es el TAG de dicho backupset, a qué parte (piece) de ese backupset corresponde, entre otras cosas.</span></p>
<p><img src="img14.4.png" width="1066" height="413" alt="by file" /></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">Existen otros comandos útiles que se van a ir viendo en los temas subsiguientes.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">Video:</span></p>
<p style="text-align: justify;"><strong><a href="https://www.youtube.com/watch?v=VcBq-Q2qQWw&amp;t=25s">Backup Completo en Caliente</a></strong></p>
<p style="text-align: justify;"></p></div>
</div>
</div>
</article>
<div id="packageLicense" class="cc cc-by-sa">
<p><span>Obra publicada con</span> <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Licencia Creative Commons Reconocimiento Compartir igual 4.0</a></p>
</div>
</section>
</div>
<div id='bottomPagination'>
<nav class="pagination noprt">
<a href="rman.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="backup_tablespaces.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</nav>
</div>
</div>
<script type="text/javascript" src="_intef_js.js"></script></body></html>